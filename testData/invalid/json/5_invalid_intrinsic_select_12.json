{
  "AWSTemplateFormatVersion": "2010-09-09",

  "Description": "Template to deploy a Role using Fn::Select with invalid value",


  "Mappings" : {
    "ListsInAMap" : {
      "Lists1" : { "a": [], "b": [], "c": "sts:AssumeRole" },
      "Lists2" : { "a": "1", "b": ["asd"] }
    }
  },


  "Resources": {
    "WebServerRole": {
      "Type": "AWS::IAM::Role",
      "Properties" : {
        "AssumeRolePolicyDocument" : {
          "Statement"  : [{
            "Effect"   : "Allow",
            "Principal": { "Service": "ec2.amazonaws.com"},
            "Action"   : { "Fn::Select": ["0", ["sts:AssumeRole", null]]}
          } ]
        },
        "Path": "/"
      }
    }

  }
}
